CREATE DATABASE CARRERAS ;
USE CARRERAS;
CREATE TABLE CORREDOR (IDCORREDOR INT NOT NULL ,
NOMBRE VARCHAR (25) NOT  NULL,
APELLIDO VARCHAR (25) NOT NULL,
ESTATURA DECIMAL  NOT NULL,
EDAD INT NOT NULL,
IDPATROCINADOR INT NOT NULL);

CREATE TABLE PATROCINADOR (IDPATROCINADOR INT NOT NULL ,
NOMBRE_PATROCINADOR VARCHAR (15) NOT NULL, 
KILOMETROS INT NOT NULL );

CREATE TABLE POSICION (IDPOSICION INT NOT NULL ,
IDCORREDOR INT NOT NULL ,
HORA_DE_SALIDA VARCHAR (15) NOT NULL,
HORA_DE_LLEGADA VARCHAR (15) NOT NULL);


ALTER TABLE CORREDOR  ADD PRIMARY KEY ( IDCORREDOR );
ALTER TABLE PATROCINADOR  ADD PRIMARY KEY (IDPATROCINADOR );
ALTER TABLE POSICION ADD PRIMARY KEY ( IDPOSICION);


INSERT INTO CORREDOR(IDCORREDOR,NOMBRE,APELLIDO,ESTATURA,EDAD,IDPATROCINADOR ) VALUES (01,'ALFREDO','GIMENEZ',1.68,27,1),
(02,'JOSE','MARTINEZ',1.40,12,1),
(03,'ANDREA','CHAVEZ',1.78,45,1),
(04,'ARIANA','DE JESUS',1.90,28,2),
(05,'JOSE','GOMEZ',1.83,36,2),
(06,'ROCIO','DIAZ',1.72,45,2),
(07,'LUIS','HERRERA',1.60,26,2),
(08,'KARINA','MARIN',1.72,28,3),
(09,'SAMANTA','LARAN',1.68,15,3),
(10,'DIANA','HIDALGO',1.70,37,3);

INSERT INTO PATROCINADOR (IDPATROCINADOR,NOMBRE_PATROCINADOR,KILOMETROS) VALUES (1,'ADIDAS',10),
(2,'NIKE',20),
(3,'EA-SPORTS',40);

ALTER TABLE POSICION ADD IDPATROCINADOR INT NOT NULL; 
INSERT INTO POSICION (IDPOSICION,IDCORREDOR,HORA_DE_SALIDA,HORA_DE_LLEGADA,IDPATROCINADOR ) VALUES (1,05,'7:00','9:03',1),
(2,03,'7:00','9:08',1),
(3,08,'7:00','9:27',1),
(4,01,'7:00','9:45',1),
(5,02,'7:00','11:21',2),
(6,06,'7:00','11:36',2),
(7,09,'7:00','11:58',2),
(8,10,'7:00','14:16',3),
(9,07,'7:00','14:36',3),
(10,10,'7:00','15:03',3);

SELECT *
FROM CORREDOR C
JOIN POSICION P ON P.IDPOSICION = C.IDPATROCINADOR;  


DELETE FROM POSICION;
SELECT *FROM CORREDOR;
create proc mostrar_CORREDOR
as select * from CORREDOR
go;
create proc buscar_Corredor
as select*from  CORREDOR order by IDCORREDOR;

--procedimiento insertar 
create proc insertar_corredor
@NOMBRE VARCHAR(25),
@APELLIDO VARCHAR(25),
@ESTATURA DECIMAL(18,0),
@EDAD INT ,
@IDPATROCINADOR INT 
as      insert into CORREDOR(	NOMBRE,APELLIDO,ESTATURA,EDAD,IDPATROCINADOR) VALUES 
(@NOMBRE,@APELLIDO,@ESTATURA,@EDAD,@IDPATROCINADOR)
GO

  

 
 
